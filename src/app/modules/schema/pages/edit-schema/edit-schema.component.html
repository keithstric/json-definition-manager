<div class="schema-container flex-column">

	<!-- Action Bar -->
	<div class="action-container flex-row justify-content-start">
		<button
			class="btn btn-sm btn-primary card-link"
			(click)="saveSchema()"
			[disabled]="sourceSchemaNameFld.invalid || !currentSchema">
			Save
		</button>
		<button class="btn btn-sm card-link" (click)="revertChanges()">Revert to Original</button>
	</div>

	<!-- Form for name and description -->
	<div class="form-container flex-row justify-content-between">
		<div class="form-group">
			<label for="sourceSchemaName">Source Schema Name</label>
			<input
				[(ngModel)]="schemaName"
				type="text"
				class="form-control"
				id="sourceSchemaName"
				aria-describedby="sourceSchemaNameHelp"
				placeholder="Enter the name of your schema"
				required
				minlength="4"
				#sourceSchemaNameFld = "ngModel">
			<small
				*ngIf="!sourceSchemaNameFld.invalid"
				id="sourceSchemaNameHelp"
				class="form-text text-muted">
				This schema will be saved independently. Be sure to define a useful name.
			</small>
			<small
				*ngIf="sourceSchemaNameFld.invalid"
				id="sourceSchemaNameHelp"
				class="form-text text-muted error-text">
				Source Schema Name is required and must be at least 4 characters in length
			</small>
		</div>
		<div class="form-group">
			<label for="sourceSchemaDesc">Source Schema Description</label>
			<textarea
				[(ngModel)]="schemaDesc"
				type="text"
				class="form-control"
				id="sourceSchemaDesc"
				aria-describedby="sourceSchemaDescHelp"
				placeholder="Enter a description for your schema">
					</textarea>
			<small id="sourceSchemaDescHelp" class="form-text text-muted">Define a description for this schema.</small>
		</div>
	</div>

	<!-- Editor -->
	<app-schema-definition-editor
		[schema]="currentSchema"
		[definition]="currentDefinition"
		(dataChanged)="onDataChange($event)">
	</app-schema-definition-editor>
</div>
